<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.shop.mint.general.items.mapper.ItemMapper">
	<!-- 메인 상품리스트 -->					
	<select id="getMainList" resultType="com.shop.mint.general.items.domain.ItemVO">
		SELECT 
			item_no, 
			item_image,
			item_name,
			item_price
		FROM
			items
		ORDER BY item_name DESC
	</select>
	
	<!-- 카테고리별 상품리스트 -->					
	<select id="getCateList" resultType="com.shop.mint.general.items.domain.ItemVO">
		SELECT 
			item_no, 
			item_image,
			item_name,
			item_price
		FROM
			items
		ORDER BY item_name DESC
	</select>
	
	<!-- 상품 전체 리스트 -->					
	<select id="getAllList" resultType="com.shop.mint.general.items.domain.ItemVO">
		SELECT 
			item_no, 
			item_image,
			item_name,
			item_price
		FROM
			items
		ORDER BY item_name DESC
	</select>
	
	<!-- 총 아이템 갯수 출력  -->
	<select id="countItems" resultType="int">
		SELECT COUNT(*) FROM items
	</select>
	
	<!-- 아이템 상세 -->					
	<select id="getItemDetail" resultType="com.shop.mint.general.items.domain.ItemVO">
		SELECT 
			item_no, 
			item_image,
			item_name,
			item_price, 
			item_sale_price, 
			item_content,
			item_category_name, 
			item_stock
		FROM
			items
		WHERE item_no = #{itemNo}
	</select>

	<!-- 아이템 상세 아이템 옵션 -->					
	<select id="getItemOption" resultType="com.shop.mint.general.items.domain.ItemOptionVO">
		SELECT 
			item_model, 
			item_color_ip
		FROM
			item_option_ipcase
	</select>
	
	<!-- 아이템 등록 -->
 	<insert id="insertItem" parameterType="com.shop.mint.general.items.domain.ItemVO">
		INSERT INTO items(item_category_name, item_name, item_price, item_sale_price, item_stock, item_refund_yn, item_content)
		VALUES(#{itemCategoryName}, #{itemName}, #{itemPrice}, #{itemSalePrice}, #{itemStock}, #{itemRefundYn}, #{itemContent})
	</insert>
	
	<!-- 아이템 수정 -->
	<update id="updateItem" parameterType="com.shop.mint.general.items.domain.ItemVO">
		UPDATE items SET item_category_name = #{itemCategoryName}, item_name = #{itemName}, item_content = #{itemContent}, item_price = #{itemPrice}, item_sale_price = #{itemSalePrice}, 
						 item_stock = #{itemStock}, item_refund_yn = #{itemRefundYn}, item_no=#{itemNo}
		WHERE item_no = #{itemNo}
	</update>
	
	<!-- 아이템 삭제 -->
	<delete id="deleteItem" parameterType="com.shop.mint.general.items.domain.ItemVO">
		DELETE FROM items
		WHERE item_no = #{itemNo}
	</delete>
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
</mapper>